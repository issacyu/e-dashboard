{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\issac\\\\Documents\\\\React\\\\e-dashboard\\\\e-dashboard\\\\UI\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\issac\\\\Documents\\\\React\\\\e-dashboard\\\\e-dashboard\\\\UI\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from '../../axios/AxiosConfig';\nimport * as actionTypes from './actionTypes';\nexport var fetchSaleDataSuccess = function fetchSaleDataSuccess(data) {\n  return {\n    type: actionTypes.FETCH_SALE_DATA_SUCCESS,\n    saleData: data\n  };\n};\nexport var fetchSaleDataFail = function fetchSaleDataFail(error) {\n  return {\n    type: actionTypes.FETCH_SALE_DATA_FAIL,\n    error: error\n  };\n};\nexport var fetchSaleDataStart = function fetchSaleDataStart() {\n  return {\n    type: actionTypes.FETCH_SALE_DATA_START\n  };\n};\nexport var fetchSaleData = function fetchSaleData() {\n  return function (dispatch) {\n    try {\n      dispatch(fetchSaleDataStart());\n\n      var getData =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return axios.get('api/sales');\n\n                case 2:\n                  return _context.abrupt(\"return\", _context.sent);\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function getData() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      dispatch(getData().then(function (res) {\n        return dispatch(fetchSaleDataSuccess(res.data));\n      }));\n    } catch (err) {\n      dispatch(fetchSaleDataFail(err));\n    }\n  };\n};\nexport var saveSaleDataSuccess = function saveSaleDataSuccess(data) {\n  return {\n    type: actionTypes.SAVE_SALE_DATA_SUCCESS,\n    SaleData: data\n  };\n};\nexport var saveSaleDataFail = function saveSaleDataFail() {\n  var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return {\n    type: actionTypes.SAVE_SALE_DATA_FAIL,\n    error: error\n  };\n};\nexport var saveSaleDataStart = function saveSaleDataStart() {\n  return {\n    type: actionTypes.SAVE_SALE_DATA_START\n  };\n};\nexport var saveSaleData = function saveSaleData(patchDoc, salesData) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var saveData, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                dispatch(saveSaleDataStart());\n\n                saveData =\n                /*#__PURE__*/\n                function () {\n                  var _ref3 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee2() {\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            return _context2.abrupt(\"return\", axios.patch('api/sales/salecollection', patchDoc).then(function (res) {\n                              return res;\n                            }));\n\n                          case 1:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function saveData() {\n                    return _ref3.apply(this, arguments);\n                  };\n                }();\n\n                _context3.next = 5;\n                return saveData();\n\n              case 5:\n                response = _context3.sent;\n\n                if (response.status === 204) {\n                  dispatch(saveSaleDataSuccess(salesData));\n                } else {\n                  dispatch(saveSaleDataFail(response.statusText));\n                }\n\n                _context3.next = 12;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](0);\n                dispatch(saveSaleDataFail(_context3.t0));\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["C:\\Users\\issac\\Documents\\React\\e-dashboard\\e-dashboard\\UI\\src\\store\\actions\\sale.js"],"names":["axios","actionTypes","fetchSaleDataSuccess","data","type","FETCH_SALE_DATA_SUCCESS","saleData","fetchSaleDataFail","error","FETCH_SALE_DATA_FAIL","fetchSaleDataStart","FETCH_SALE_DATA_START","fetchSaleData","dispatch","getData","get","then","res","err","saveSaleDataSuccess","SAVE_SALE_DATA_SUCCESS","SaleData","saveSaleDataFail","SAVE_SALE_DATA_FAIL","saveSaleDataStart","SAVE_SALE_DATA_START","saveSaleData","patchDoc","salesData","saveData","patch","response","status","statusText"],"mappings":"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","sourcesContent":["import axios from '../../axios/AxiosConfig';\r\n\r\nimport * as actionTypes from './actionTypes';\r\n\r\nexport const fetchSaleDataSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.FETCH_SALE_DATA_SUCCESS,\r\n        saleData: data,\r\n    };\r\n}\r\n\r\nexport const fetchSaleDataFail = (error) => {\r\n    return {\r\n        type: actionTypes.FETCH_SALE_DATA_FAIL,\r\n        error: error\r\n    };\r\n}\r\n\r\nexport const fetchSaleDataStart = () => {\r\n    return {\r\n        type: actionTypes.FETCH_SALE_DATA_START,\r\n    };\r\n}\r\n\r\nexport const fetchSaleData = () => {\r\n    return dispatch => {\r\n        try {\r\n            dispatch(fetchSaleDataStart());\r\n            const getData = async() => {\r\n                return await axios.get('api/sales');   \r\n            }\r\n            dispatch(getData().then( res => \r\n                dispatch(fetchSaleDataSuccess(res.data))\r\n            ));\r\n        }\r\n        catch(err) {\r\n            dispatch(fetchSaleDataFail(err))\r\n        }\r\n    }\r\n}\r\n\r\nexport const saveSaleDataSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.SAVE_SALE_DATA_SUCCESS,\r\n        SaleData: data\r\n    };\r\n}\r\n\r\nexport const saveSaleDataFail = (error = '') => {\r\n    return {\r\n        type: actionTypes.SAVE_SALE_DATA_FAIL,\r\n        error: error\r\n    };\r\n}\r\n\r\nexport const saveSaleDataStart = () => {\r\n    return {\r\n        type: actionTypes.SAVE_SALE_DATA_START,\r\n    };\r\n}\r\n\r\nexport const saveSaleData = (patchDoc, salesData) => {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(saveSaleDataStart());\r\n            const saveData = async () => {\r\n                return axios.patch('api/sales/salecollection', patchDoc)\r\n                    .then(res => res);   \r\n            }\r\n\r\n            const response = await saveData();\r\n\r\n            if(response.status === 204){\r\n                dispatch(saveSaleDataSuccess(salesData))\r\n            }\r\n            else{\r\n                dispatch(saveSaleDataFail(response.statusText))\r\n            }\r\n        }\r\n        catch(err) {\r\n            dispatch(saveSaleDataFail(err))\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}